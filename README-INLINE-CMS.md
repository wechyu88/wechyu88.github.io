# 内联编辑CMS系统使用说明

## 🎯 新版CMS特点

这是一个**所见即所得**的内联编辑系统，完全不同于之前的弹窗式CMS：

### ✨ 主要特性

1. **直接在页面上编辑** - 无需弹窗，所有编辑都在原页面进行
2. **悬停显示编辑按钮** - 鼠标移动到任何模块，自动显示编辑/删除按钮
3. **可视化添加** - 每个区域都有醒目的"+"按钮，可以添加新内容
4. **顶部工具栏** - 编辑模式下显示专业的工具栏，方便操作
5. **实时同步GitHub** - 一键同步所有更改到GitHub仓库

## 🚀 快速开始

### 进入编辑模式

有3种方式进入编辑模式：

1. **快捷键**: 按 `Ctrl + Alt + E`
2. **右下角按钮**: 点击页面右下角的 🔐 按钮
3. **三次点击标题**: 连续快速点击页面标题3次

首次进入需要输入密码（默认：`admin123`）

### 编辑模式界面

进入编辑模式后，你会看到：

```
┌─────────────────────────────────────────────────────────┐
│ ✏️ 编辑模式 | 👁️ 预览 | 💾 保存到本地 | ☁️ 同步到GitHub | ⚙️ 设置 | 🚪 退出 │
└─────────────────────────────────────────────────────────┘
```

顶部工具栏提供所有常用功能。

## 📝 如何编辑内容

### 1. 编辑现有内容

1. **鼠标悬停** - 将鼠标移动到任何内容卡片上
2. **看到编辑按钮** - 右上角会显示 `[编辑] [删除]` 按钮
3. **点击编辑** - 弹出编辑表单
4. **修改内容** - 在表单中修改信息
5. **保存** - 点击"保存"按钮

### 2. 添加新内容

每个区域都有对应的添加按钮：

- **+ 添加研究方向** - 在研究领域区域
- **+ 添加期刊论文** - 在研究成果区域
- **+ 添加会议论文** - 在研究成果区域
- **+ 添加专利** - 在研究成果区域
- **+ 添加学生** - 在学生指导区域
- **+ 添加竞赛** - 在竞赛指导区域

点击这些按钮，填写表单，然后保存即可。

### 3. 删除内容

1. 鼠标悬停到要删除的项目
2. 点击右上角的 `[删除]` 按钮
3. 确认删除

## 💾 保存更改

### 临时保存（本地）

点击顶部工具栏的 `💾 保存到本地` 按钮：
- 数据保存在浏览器localStorage中
- 刷新页面后仍然存在
- **注意**：这只是临时保存，换个浏览器就看不到了

### 永久保存（GitHub）

点击顶部工具栏的 `☁️ 同步到GitHub` 按钮：
- 自动提交到你的GitHub仓库
- 其他人访问你的网站也能看到更新
- 支持版本历史记录
- **这才是真正的保存！**

## ⚙️ 系统设置

点击顶部工具栏的 `⚙️ 设置` 按钮，可以配置：

### 1. 修改密码

```
当前密码: ********
新密码: ********
确认新密码: ********
```

修改后，下次登录需要使用新密码。

### 2. GitHub配置

同步到GitHub需要配置以下信息：

| 配置项 | 说明 | 示例 |
|--------|------|------|
| GitHub用户名 | 你的GitHub用户名 | `wechyu88` |
| 仓库名 | 你的个人主页仓库名 | `wechyu88.github.io` |
| Personal Access Token | GitHub访问令牌 | `ghp_xxxxxxxxxxxx` |

#### 如何创建GitHub Token？

1. 访问 https://github.com/settings/tokens
2. 点击 "Generate new token (classic)"
3. 选择 `repo` 权限（所有子选项）
4. 点击 "Generate token"
5. 复制生成的token（只显示一次！）
6. 粘贴到CMS设置中

## 📤 文件上传功能

### 上传论文PDF

添加论文时，可以上传PDF文件：

1. 点击 `+ 添加期刊论文` 或 `+ 添加会议论文`
2. 填写论文信息
3. 在"PDF文件"处选择文件
4. 点击保存 - **PDF会自动上传到GitHub**
5. 上传后的PDF地址会自动保存
6. 其他人可以通过链接下载你的论文

PDF会保存在仓库的 `assets/papers/` 目录。

### 上传专利证书

添加专利时，可以上传证书：

1. 点击 `+ 添加专利`
2. 填写专利信息
3. 在"专利证书"处选择文件（支持图片和PDF）
4. 点击保存 - **证书会自动上传到GitHub**
5. 证书会显示在专利详情页

证书会保存在仓库的 `assets/patents/` 目录。

## 🎨 支持的编辑模块

### ✅ 已实现

- [x] 个人基本信息
- [x] 研究方向
- [x] 期刊论文（含PDF上传）
- [x] 会议论文（含PDF上传）
- [x] 专利（含证书上传）
- [x] 科研项目
- [x] 获奖记录
- [x] 学生指导
- [x] 竞赛指导
- [x] 教学课程
- [x] 教材编写
- [x] 教学获奖

### 🚧 待扩展

后续可以继续添加：
- [ ] 学术服务
- [ ] 学术活动
- [ ] 新闻动态
- [ ] 资源下载

## 🔧 故障排除

### 问题：无法同步到GitHub

**可能原因**：
1. GitHub Token配置错误
2. Token权限不足（需要repo权限）
3. 仓库名或用户名写错了
4. 网络问题

**解决方法**：
1. 进入"设置"检查GitHub配置
2. 重新生成Token，确保选择repo权限
3. 仔细检查用户名和仓库名
4. 检查网络连接

### 问题：保存后页面没有更新

**解决方法**：
- 保存到本地后，刷新页面（F5）
- 同步到GitHub后，等待几分钟再刷新
- 清除浏览器缓存

### 问题：文件上传失败

**可能原因**：
1. 文件太大（GitHub限制单文件100MB）
2. GitHub Token权限不足
3. 网络超时

**解决方法**：
1. 压缩文件或使用外部链接
2. 重新生成Token
3. 重试上传

## 💡 使用技巧

1. **先配置GitHub** - 进入编辑模式后，第一件事是配置GitHub，否则无法同步

2. **经常保存** - 编辑多个内容后，记得及时同步到GitHub

3. **使用预览** - 点击"预览"按钮，可以预览编辑效果（暂时隐藏编辑按钮）

4. **修改密码** - 首次使用建议立即修改默认密码

5. **备份数据** - 可以点击"保存到本地"定期备份

## 🔒 安全提示

1. **不要泄露Token** - GitHub Token等同于密码，不要分享给他人
2. **定期更换密码** - 建议定期修改CMS登录密码
3. **Token权限最小化** - 只给Token必要的repo权限
4. **使用HTTPS** - 确保网站使用HTTPS访问（GitHub Pages默认）

## 📞 技术支持

如果遇到问题：
1. 查看浏览器控制台（F12）的错误信息
2. 检查GitHub仓库的提交历史
3. 参考本文档的故障排除章节

## 🎉 开始使用

现在，按 `Ctrl + Alt + E` 开始编辑你的个人主页吧！

---

**Happy Editing! ✨**
