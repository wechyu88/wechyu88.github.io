# 单页应用(SPA)版个人主页 + 内联CMS

## 🎯 完全解决你提出的所有问题!

### ✅ 问题1: 侧边栏不统一 - 已解决!
**方案**: 改造成单页应用(SPA)
- **侧边栏固定不变** - 所有页面共用同一个侧边栏
- **只改变右侧内容** - 点击侧边栏链接,只更新主内容区
- **无刷新切换** - 使用Hash路由,页面不刷新

### ✅ 问题2: 可编辑性不够 - 已解决!
**方案**: 所有内容模块都可编辑
- **可编辑区域**: 所有带 `.editable-section` 和 `.editable-item` 的内容
- **点击即编辑**: 鼠标悬停提示"✏️ 点击编辑",点击弹出编辑表单
- **覆盖范围**: 个人信息、研究方向、论文、专利、学生、竞赛等所有内容

### ✅ 问题3: 保存逻辑错误 - 已解决!
**方案**: 分离本地保存和GitHub同步
- **编辑后立即生效** - 编辑完点"保存",页面立即更新
- **本地保存** - 数据保存到localStorage,刷新不丢失
- **GitHub同步** - 独立按钮"同步到GitHub",手动控制何时上传

---

## 🚀 使用新版本

### 文件说明

新版本文件:
- **spa-index.html** - 单页应用主文件
- **assets/js/spa-router.js** - SPA路由系统
- **assets/js/spa-cms.js** - SPA版CMS系统

### 如何启用

**方法1: 重命名文件**(推荐)
```bash
# 备份旧版本
mv index.html index-old.html

# 启用新版本
mv spa-index.html index.html
```

**方法2: 直接访问**
访问: `https://wechyu88.github.io/spa-index.html`

---

## 📖 使用指南

### 1. 进入编辑模式

**3种方式**:
1. 按 `Ctrl + Alt + E`
2. 点击右下角的 🔐 按钮
3. 输入密码: `admin123`

### 2. 编辑内容

**超级简单**:
1. 点击页面上任何内容块
2. 在弹出的表单中编辑
3. 点击"保存"

**提示**:
- 鼠标悬停时会显示"✏️ 点击编辑"
- 内容块会有蓝色边框高亮

### 3. 保存更改

**两步走**:

#### 第1步: 保存到本地(必须)
点击工具栏的 `💾 保存更改` 按钮
- ✅ 页面立即更新
- ✅ 刷新页面后仍然存在
- ✅ 只在你的浏览器中生效

#### 第2步: 同步到GitHub(可选)
点击工具栏的 `☁️ 同步到GitHub` 按钮
- ✅ 上传到GitHub仓库
- ✅ 所有人都能看到
- ✅ 有版本历史记录

**重要**:
- 先"保存到本地"确认无误
- 再"同步到GitHub"发布更新

---

## ⚙️ 首次使用配置

### 配置GitHub

点击工具栏 `⚙️ 设置`,填写:

| 配置项 | 示例值 |
|--------|--------|
| GitHub用户名 | `wechyu88` |
| 仓库名 | `wechyu88.github.io` |
| Personal Access Token | `ghp_xxxxxxxxxxxx` |

### 获取GitHub Token

1. 访问: https://github.com/settings/tokens
2. 点击 "Generate new token (classic)"
3. **必选**: 勾选 `repo` (所有子选项)
4. 生成并复制token
5. 粘贴到设置中

---

## 🎨 新架构优势

### 1. 单页应用(SPA)架构
```
┌─────────────────┬──────────────────────────┐
│                 │                          │
│   固定侧边栏     │    动态内容区域           │
│                 │                          │
│  🏠 首页        │   [首页内容]             │
│  🔬 研究方向    │   点击→[研究方向内容]     │
│  📚 研究成果    │   点击→[成果列表]        │
│  ...           │   点击→[对应内容]        │
│                 │                          │
└─────────────────┴──────────────────────────┘
```

- 侧边栏始终不变
- 右侧内容动态加载
- Hash路由: `#/research/ai-robotics`

### 2. 完整的可编辑性

**可编辑内容**:
- ✅ 个人基本信息
- ✅ 研究方向详情
- ✅ 期刊/会议论文
- ✅ 专利记录
- ✅ 科研项目
- ✅ 竞赛指导
- ✅ 学生信息
- ✅ 教学内容
- ✅ 新闻动态

**编辑方式**:
- 点击任何内容块
- 弹出编辑表单
- 填写/修改
- 保存

### 3. 清晰的保存流程

```
编辑内容
   ↓
点击"保存更改"
   ↓
页面立即更新 ← 已经保存到本地!
   ↓
(可选)点击"同步到GitHub"
   ↓
上传到服务器 ← 全世界可见!
```

---

## 🔧 技术细节

### 路由系统

使用Hash路由实现SPA:
- `#/` - 首页
- `#/research/ai-robotics` - 研究方向详情
- `#/achievements/all` - 所有成果
- `#/competitions` - 竞赛指导

### 数据流

```
┌──────────────┐
│  siteData    │ ← 全局数据对象
└──────┬───────┘
       │
       ├─→ 渲染页面内容
       │
       ├─→ CMS编辑数据
       │
       ├─→ 保存到localStorage
       │
       └─→ 同步到GitHub
```

### 状态管理

- **数据源**: `siteData` 对象
- **本地存储**: `localStorage.siteData`
- **远程同步**: GitHub API
- **未保存提示**: 工具栏实时显示

---

## 💡 使用建议

1. **先熟悉界面** - 多点几个页面,看看侧边栏是否固定
2. **测试编辑** - 随便编辑一些内容,点"保存更改"看效果
3. **配置GitHub** - 在设置中填写GitHub信息
4. **正式使用** - 编辑真实内容,同步到GitHub

---

## 🆚 新旧版本对比

| 特性 | 旧版本 | SPA新版本 |
|------|--------|----------|
| 侧边栏 | ❌ 每个页面不同 | ✅ 固定统一 |
| 页面切换 | ❌ 整页刷新 | ✅ 局部更新 |
| 可编辑性 | ❌ 部分内容 | ✅ 所有内容 |
| 保存逻辑 | ❌ 混乱 | ✅ 清晰分离 |
| 用户体验 | ⭐⭐ | ⭐⭐⭐⭐⭐ |

---

## 🎉 开始使用

1. 重命名 `spa-index.html` 为 `index.html`
2. 访问你的网站
3. 按 `Ctrl + Alt + E` 进入编辑模式
4. 享受全新的编辑体验!

---

**问题反馈**: 有任何问题随时告诉我!
